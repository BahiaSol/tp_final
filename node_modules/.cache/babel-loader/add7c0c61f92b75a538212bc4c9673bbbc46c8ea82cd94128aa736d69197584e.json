{"ast":null,"code":"import _regeneratorRuntime from \"C:/Users/Usuario/Documents/tp_final/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"C:/Users/Usuario/Documents/tp_final/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport axios from 'axios';\nexport default {\n  data: function data() {\n    return {\n      transactions: [],\n      cryptos: [],\n      totalValue: 0,\n      headers: {\n        'x-apikey': '60eb09146661365596af552f'\n      }\n    };\n  },\n  mounted: function mounted() {\n    var _this = this;\n    return _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n      var userId;\n      return _regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1) switch (_context.prev = _context.next) {\n          case 0:\n            userId = localStorage.getItem('userId');\n            if (!userId) {\n              _context.next = 6;\n              break;\n            }\n            _context.next = 4;\n            return _this.fetchTransactions(userId);\n          case 4:\n            _context.next = 6;\n            return _this.calculateCryptoValues();\n          case 6:\n          case \"end\":\n            return _context.stop();\n        }\n      }, _callee);\n    }))();\n  },\n  methods: {\n    fetchTransactions: function fetchTransactions(userId) {\n      var _this2 = this;\n      return _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n        var response;\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.prev = 0;\n              _context2.next = 3;\n              return axios.get(\"https://laboratorio3-f36a.restdb.io/rest/transactions?q={\\\"user_id\\\": \\\"\".concat(_this2.userId, \"\\\"}\"), {\n                headers: _this2.headers\n              });\n            case 3:\n              response = _context2.sent;\n              _this2.transactions = response.data;\n              _context2.next = 10;\n              break;\n            case 7:\n              _context2.prev = 7;\n              _context2.t0 = _context2[\"catch\"](0);\n              console.error('error');\n            case 10:\n            case \"end\":\n              return _context2.stop();\n          }\n        }, _callee2, null, [[0, 7]]);\n      }))();\n    }\n  }\n};","map":{"version":3,"names":["axios","data","transactions","cryptos","totalValue","headers","mounted","_this","_asyncToGenerator","_regeneratorRuntime","mark","_callee","userId","wrap","_callee$","_context","prev","next","localStorage","getItem","fetchTransactions","calculateCryptoValues","stop","methods","_this2","_callee2","response","_callee2$","_context2","get","concat","sent","t0","console","error"],"sources":["C:\\Users\\Usuario\\Documents\\tp_final\\src\\views\\CurrentStatus.vue"],"sourcesContent":["<template>\n    <div class=\"current-analysis\">\n        <h1>Analisis de estado actual</h1>\n        <table v-if=\"cryptos.length > 0\">\n        <thead>\n        <tr>\n            <th>Criptomoneda</th>\n            <th>Cantidad</th>\n            <th>Dinero</th>\n        </tr>\n        </thead>\n        <tbody>\n        <tr v-for=\"crypto in cryptos\" :key=\"crypto.code\">\n        <td>{{ crypto.code }}</td>\n        <td>{{ crypto.amount }}</td>\n        <td>{{ crypto.value.toFixed(2).replace('.', ',') }}</td>\n        </tr>\n        </tbody>\n        <tfoot>\n        <tr>\n        <td><strong>Total</strong></td>\n        <td></td>\n        <td><strong>${{ totalValue.toFixed(2).replace('.', ',') }}</strong></td>\n        </tr>\n        </tfoot>\n        </table>\n        <p v-else>No tienes criptomonedas</p>\n    </div>\n</template>\n\n<script>\nimport axios from 'axios'\n\nexport default {\n  data () {\n    return {\n      transactions: [],\n      cryptos: [],\n      totalValue: 0,\n      headers: {\n        'x-apikey': '60eb09146661365596af552f'\n      }\n    }\n  },\n  async mounted() {\n    const userId = localStorage.getItem('userId')\n    if (userId) {\n        await this.fetchTransactions(userId)\n        await this.calculateCryptoValues()\n    }\n  },\n  methods: {\n    async fetchTransactions(userId) {\n     try {\n      const response = await axios.get(`https://laboratorio3-f36a.restdb.io/rest/transactions?q={\"user_id\": \"${this.userId}\"}`, { headers: this.headers })\n      this.transactions = response.data\n     } catch (error) {\n      console.error('error')\n     }\n    }\n  }\n}\n</script>\n\n<style>\n  .sale {\n    padding: 20px;\n  }\n\n  .form-container{\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    width: 100%;\n  }\n\n  h1{\n    color: #333;\n    font-size: 30px;\n    margin-bottom: 50px;\n  }\n\n  input, select{\n    width: 100%;\n    padding: 10px;\n    border: 1px solid #333;\n    border-radius: 5px;\n    font-size: 18px;\n    margin-right: 10px;\n  }\n\n  .form-group{\n    margin-bottom: 20px;\n  }\n\n  button{\n    background-color: #007bff;\n    color: white;\n    border: none;\n    border-radius: 5px;\n    padding: 10px 20px;\n    transition: background-color 0.5s;\n    font-size: 16px;\n  }\n  .btn{\n    display: inline-block;\n    margin-top: 20px;\n    padding: 10px 20px;\n    background-color: #007bff;\n    color: white;\n    text-decoration: none;\n    border-radius: 5px;\n    margin-right: 5px;\n    margin-left: 5px;\n  }\n</style>\n"],"mappings":";;AA+BA,OAAOA,KAAI,MAAO,OAAM;AAExB,eAAe;EACbC,IAAG,WAAHA,IAAGA,CAAA,EAAK;IACN,OAAO;MACLC,YAAY,EAAE,EAAE;MAChBC,OAAO,EAAE,EAAE;MACXC,UAAU,EAAE,CAAC;MACbC,OAAO,EAAE;QACP,UAAU,EAAE;MACd;IACF;EACF,CAAC;EACKC,OAAO,WAAPA,OAAOA,CAAA,EAAG;IAAA,IAAAC,KAAA;IAAA,OAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,UAAAC,QAAA;MAAA,IAAAC,MAAA;MAAA,OAAAH,mBAAA,GAAAI,IAAA,UAAAC,SAAAC,QAAA;QAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;UAAA;YACRL,MAAK,GAAIM,YAAY,CAACC,OAAO,CAAC,QAAQ;YAAA,KACxCP,MAAM;cAAAG,QAAA,CAAAE,IAAA;cAAA;YAAA;YAAAF,QAAA,CAAAE,IAAA;YAAA,OACAV,KAAI,CAACa,iBAAiB,CAACR,MAAM;UAAA;YAAAG,QAAA,CAAAE,IAAA;YAAA,OAC7BV,KAAI,CAACc,qBAAqB,CAAC;UAAA;UAAA;YAAA,OAAAN,QAAA,CAAAO,IAAA;QAAA;MAAA,GAAAX,OAAA;IAAA;EAEvC,CAAC;EACDY,OAAO,EAAE;IACDH,iBAAiB,WAAjBA,iBAAiBA,CAACR,MAAM,EAAE;MAAA,IAAAY,MAAA;MAAA,OAAAhB,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,UAAAe,SAAA;QAAA,IAAAC,QAAA;QAAA,OAAAjB,mBAAA,GAAAI,IAAA,UAAAc,UAAAC,SAAA;UAAA,kBAAAA,SAAA,CAAAZ,IAAA,GAAAY,SAAA,CAAAX,IAAA;YAAA;cAAAW,SAAA,CAAAZ,IAAA;cAAAY,SAAA,CAAAX,IAAA;cAAA,OAEPjB,KAAK,CAAC6B,GAAG,4EAAAC,MAAA,CAAyEN,MAAI,CAACZ,MAAM,UAAM;gBAAEP,OAAO,EAAEmB,MAAI,CAACnB;cAAQ,CAAC;YAAA;cAA7IqB,QAAO,GAAAE,SAAA,CAAAG,IAAA;cACbP,MAAI,CAACtB,YAAW,GAAIwB,QAAQ,CAACzB,IAAG;cAAA2B,SAAA,CAAAX,IAAA;cAAA;YAAA;cAAAW,SAAA,CAAAZ,IAAA;cAAAY,SAAA,CAAAI,EAAA,GAAAJ,SAAA;cAEhCK,OAAO,CAACC,KAAK,CAAC,OAAO;YAAA;YAAA;cAAA,OAAAN,SAAA,CAAAN,IAAA;UAAA;QAAA,GAAAG,QAAA;MAAA;IAEvB;EACF;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}