{"ast":null,"code":"import { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode } from \"vue\";\nvar _hoisted_1 = {\n  \"class\": \"home\"\n};\nvar _hoisted_2 = {\n  key: 0,\n  \"class\": \"loading-container\"\n};\nvar _hoisted_3 = {\n  key: 1\n};\nvar _hoisted_4 = {\n  key: 0\n};\nvar _hoisted_5 = {\n  key: 1\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  var _component_router_link = _resolveComponent(\"router-link\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [$data.loading ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2, _cache[0] || (_cache[0] = [_createElementVNode(\"p\", null, \"Cargando..\", -1 /* HOISTED */)]))) : (_openBlock(), _createElementBlock(\"div\", _hoisted_3, [_cache[8] || (_cache[8] = _createElementVNode(\"h1\", null, \"Bienvenido a tu cartera de criptomonedas\", -1 /* HOISTED */)), _createElementVNode(\"p\", null, \"Has iniciado sesion como: \" + _toDisplayString($data.userId), 1 /* TEXT */), $data.transactions.length === 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_4, [_cache[2] || (_cache[2] = _createElementVNode(\"p\", null, \"No tienes transacciones registradas. Comienza con hacer tu primer compra para luego ver tu historial aqui.\", -1 /* HOISTED */)), _createVNode(_component_router_link, {\n    to: \"/purchase\",\n    \"class\": \"btn\"\n  }, {\n    \"default\": _withCtx(function () {\n      return _cache[1] || (_cache[1] = [_createTextVNode(\"Realizar compra\")]);\n    }),\n    _: 1 /* STABLE */\n  })])) : (_openBlock(), _createElementBlock(\"div\", _hoisted_5, [_cache[7] || (_cache[7] = _createElementVNode(\"h1\", null, \"Tu historial de transacciones\", -1 /* HOISTED */)), _createVNode(_component_router_link, {\n    to: \"/history\",\n    \"class\": \"btn\"\n  }, {\n    \"default\": _withCtx(function () {\n      return _cache[3] || (_cache[3] = [_createTextVNode(\"Ver historial\")]);\n    }),\n    _: 1 /* STABLE */\n  }), _createVNode(_component_router_link, {\n    to: \"/purchase\",\n    \"class\": \"btn\"\n  }, {\n    \"default\": _withCtx(function () {\n      return _cache[4] || (_cache[4] = [_createTextVNode(\"Realizar compra\")]);\n    }),\n    _: 1 /* STABLE */\n  }), _createVNode(_component_router_link, {\n    to: \"/sale\",\n    \"class\": \"btn\"\n  }, {\n    \"default\": _withCtx(function () {\n      return _cache[5] || (_cache[5] = [_createTextVNode(\"Realizar venta\")]);\n    }),\n    _: 1 /* STABLE */\n  }), _createVNode(_component_router_link, {\n    to: \"/current\",\n    \"class\": \"btn\"\n  }, {\n    \"default\": _withCtx(function () {\n      return _cache[6] || (_cache[6] = [_createTextVNode(\"Analisis de estado actual\")]);\n    }),\n    _: 1 /* STABLE */\n  })]))]))]);\n}","map":{"version":3,"names":["key","_createElementBlock","_hoisted_1","$data","loading","_hoisted_2","_cache","_createElementVNode","_hoisted_3","_toDisplayString","userId","transactions","length","_hoisted_4","_createVNode","_component_router_link","to","_withCtx","_createTextVNode","_","_hoisted_5"],"sources":["C:\\Users\\Usuario\\Documents\\tp_final\\src\\views\\HomeView.vue"],"sourcesContent":["<template>\n  <div class=\"home\">\n\n    <div v-if=\"loading\" class=\"loading-container\">\n      <p>Cargando..</p>\n    </div>\n\n    <div v-else>\n    <h1>Bienvenido a tu cartera de criptomonedas</h1>\n    <p>Has iniciado sesion como: {{ userId }}</p>\n\n    <div v-if=\"transactions.length === 0\">\n      <p>No tienes transacciones registradas. Comienza con hacer tu primer compra para luego ver tu historial aqui.</p>\n      <router-link to=\"/purchase\" class=\"btn\">Realizar compra</router-link>\n    </div>\n\n    <div v-else>\n      <h1>Tu historial de transacciones</h1>\n      <router-link to=\"/history\" class=\"btn\">Ver historial</router-link>\n      <router-link to=\"/purchase\" class=\"btn\">Realizar compra</router-link>\n      <router-link to=\"/sale\" class=\"btn\">Realizar venta</router-link>\n      <router-link to=\"/current\" class=\"btn\">Analisis de estado actual</router-link>\n    </div>\n    </div>\n    </div>\n</template>\n\n<script>\nimport axios from 'axios'\nexport default {\n  data () {\n    return {\n      userId: localStorage.getItem('userId'),\n      transactions: [],\n      loading: true,\n      headers: {\n        'x-apikey': '60eb09146661365596af552f'\n      }\n    }\n  },\n\n  created () {\n    if (!this.userId) {\n      this.$router.push({ name: 'UserLogin' })\n    } else {\n      this.loadTransactions()\n    }\n  },\n\n  methods: {\n    async loadTransactions () {\n      try {\n        const response = await axios.get(`https://laboratorio3-f36a.restdb.io/rest/transactions?q={\"user_id\": \"${this.userId}\"}`, { headers: this.headers })\n        console.log('log:', response.data)\n        this.transactions = response.data\n      } catch (error) {\n        console.error('Error al obtener las transacciones', error)\n      } finally {\n        this.loading = false\n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\n  .home{\n    padding: 20px;\n    text-align: center;\n  }\n\n  .btn{\n    display: inline-block;\n    margin-top: 20px;\n    padding: 10px 20px;\n    background-color: #007bff;\n    color: white;\n    text-decoration: none;\n    border-radius: 5px;\n    margin-right:5px;\n  }\n</style>\n"],"mappings":";;EACO,SAAM;AAAM;;EADnBA,GAAA;EAGwB,SAAM;;;EAH9BA,GAAA;AAAA;;EAAAA,GAAA;AAAA;;EAAAA,GAAA;AAAA;;;uBACEC,mBAAA,CAuBQ,OAvBRC,UAuBQ,GArBKC,KAAA,CAAAC,OAAO,I,cAAlBH,mBAAA,CAEM,OAFNI,UAEM,EAAAC,MAAA,QAAAA,MAAA,OADJC,mBAAA,CAAiB,WAAd,YAAU,oB,qBAGfN,mBAAA,CAgBM,OAvBVO,UAAA,G,0BAQID,mBAAA,CAAiD,YAA7C,0CAAwC,sBAC5CA,mBAAA,CAA6C,WAA1C,4BAA0B,GAAAE,gBAAA,CAAGN,KAAA,CAAAO,MAAM,kBAE3BP,KAAA,CAAAQ,YAAY,CAACC,MAAM,U,cAA9BX,mBAAA,CAGM,OAdVY,UAAA,G,0BAYMN,mBAAA,CAAiH,WAA9G,4GAA0G,sBAC7GO,YAAA,CAAqEC,sBAAA;IAAxDC,EAAE,EAAC,WAAW;IAAC,SAAM;;IAbxC,WAAAC,QAAA,CAa8C;MAAA,OAAeX,MAAA,QAAAA,MAAA,OAb7DY,gBAAA,CAa8C,iBAAe,E;;IAb7DC,CAAA;yBAgBIlB,mBAAA,CAMM,OAtBVmB,UAAA,G,0BAiBMb,mBAAA,CAAsC,YAAlC,+BAA6B,sBACjCO,YAAA,CAAkEC,sBAAA;IAArDC,EAAE,EAAC,UAAU;IAAC,SAAM;;IAlBvC,WAAAC,QAAA,CAkB6C;MAAA,OAAaX,MAAA,QAAAA,MAAA,OAlB1DY,gBAAA,CAkB6C,eAAa,E;;IAlB1DC,CAAA;MAmBML,YAAA,CAAqEC,sBAAA;IAAxDC,EAAE,EAAC,WAAW;IAAC,SAAM;;IAnBxC,WAAAC,QAAA,CAmB8C;MAAA,OAAeX,MAAA,QAAAA,MAAA,OAnB7DY,gBAAA,CAmB8C,iBAAe,E;;IAnB7DC,CAAA;MAoBML,YAAA,CAAgEC,sBAAA;IAAnDC,EAAE,EAAC,OAAO;IAAC,SAAM;;IApBpC,WAAAC,QAAA,CAoB0C;MAAA,OAAcX,MAAA,QAAAA,MAAA,OApBxDY,gBAAA,CAoB0C,gBAAc,E;;IApBxDC,CAAA;MAqBML,YAAA,CAA8EC,sBAAA;IAAjEC,EAAE,EAAC,UAAU;IAAC,SAAM;;IArBvC,WAAAC,QAAA,CAqB6C;MAAA,OAAyBX,MAAA,QAAAA,MAAA,OArBtEY,gBAAA,CAqB6C,2BAAyB,E;;IArBtEC,CAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}